{"version":3,"sources":["reportWebVitals.js","cmps/TopBar.js","cmps/LoginPage.js","cmps/ColeccionesPage.js","cmps/ColeccionPage.js","App.js","index.js"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","TopBar","onBackToClick","e","window","location","props","backTo","onDeleteColClick","axios","post","ColCod","deleteCol","res","onLogoutClick","localStorage","removeItem","getItem","state","logout","undefined","this","setState","className","onClick","logo","isLoged","React","Component","LoginPage","onLoginClick","UsrUsr","UsrPwd","defaults","withCredentials","jres","data","status","setItem","errorMessage","payload","message","type","id","value","onChange","target","placeholder","autoComplete","ColeccionesPage","onColClick","onAddColClick","showAddColForm","onCancelClick","onAddNewClick","_this","ColNom","ColDesc","loadData","cols_divs","key","Object","hasOwnProperty","call","coleccion","push","style","display","ColeccionPage","onAddPhotoClick","document","getElementById","click","onPhotoSelected","imgFile","files","size","formData","FormData","append","showLoading","headers","alert","col_fotos","col_name","fotos","foto","foto_url","FotPath","FotCod","backgroundImage","name","_ColeccionPage","useParams","App","path","exact","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.ea0837b5.chunk.js","sourcesContent":["const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport '../css/TopBar.scss';\r\nimport axios from 'axios';\r\n\r\nclass TopBar extends React.Component{\r\n\r\n  constructor(){\r\n    super();\r\n\r\n    let isLoged = localStorage.getItem(\"loged\");\r\n    if(!isLoged){\r\n      window.location = \"#/\";\r\n    }\r\n    \r\n    this.state ={\r\n      backTo : \"\",\r\n      deleteCol: \"\",\r\n      logout: \"\",\r\n    }\r\n  }\r\n\r\n  onBackToClick = e =>{\r\n    window.location = this.props.backTo;\r\n  }\r\n\r\n  onDeleteColClick = e =>{\r\n    axios.post(\"https://api.movil2.cointla.com/api/colecciones/eliminar.php\" ,{\r\n\t\t\t\tColCod: this.props.deleteCol\r\n\t\t\t}).then(res=>{\r\n        window.location = this.props.backTo;\r\n\t\t\t});\r\n  }\r\n\r\n  onLogoutClick = e =>{\r\n    window.localStorage.removeItem(\"loged\");\r\n    window.location = \"#/\"\r\n  }\r\n\r\n  componentDidMount(){\r\n    if(this.props.backTo !== undefined){\r\n      this.setState({\r\n        backTo: (<div className=\"backToIcon\" onClick={this.onBackToClick} ><i className=\"material-icons\">arrow_back_ios</i></div>)\r\n      })\r\n    }\r\n\r\n    if(this.props.deleteCol !== undefined){\r\n      this.setState({\r\n        deleteCol: (<div className=\"deleteColIcon\" onClick={this.onDeleteColClick} ><i className=\"material-icons\">delete_outline</i></div>)\r\n      })\r\n    }\r\n\r\n    if((this.props.backTo === undefined)&&(this.props.deleteCol === undefined) && (this.logout !== undefined) ){\r\n      this.setState({\r\n        logo: (<div className=\"TopLogo\"></div>)\r\n      })\r\n    }\r\n\r\n    let isLoged = localStorage.getItem(\"loged\");\r\n    if((this.props.backTo === undefined)&&(this.props.deleteCol === undefined) && (isLoged)){\r\n      this.setState({\r\n        logout: (<div className=\"LogoutIcon\" onClick={this.onLogoutClick} ><i className=\"material-icons\">logout</i></div>)\r\n      })\r\n    }\r\n\r\n  }\r\n  render(){\r\n      return(\r\n        <div className=\"TopBar\">\r\n        <div className=\"LogoContainerTop\"> \r\n            <div className=\"LogoTopBar\"></div>\r\n        </div>\r\n          {this.state.backTo}\r\n          {this.state.deleteCol}\r\n          {this.state.logout}\r\n        </div>\r\n      );\r\n  }\r\n}\r\n\r\n\r\nexport default TopBar;","import React from 'react';\r\nimport TopBar from '../cmps/TopBar';\r\nimport axios from 'axios';\r\nimport '../css/LoginPage.scss';\r\n\r\nclass LoginPage extends React.Component{\r\n\r\n\tconstructor(){\r\n\t\tsuper();\r\n\r\n\t\tthis.state = {\r\n\t\t\t\"UsrUsr\": \"\",\r\n\t\t\t\"UsrPwd\": \"\",\r\n\t\t\t\"errorMessage\": \"\"\r\n\t\t}\r\n\t}\r\n\r\n\tonLoginClick = e =>{\r\n\t\t// Realizo consulta al servidor...\r\n\t\tlet UsrUsr = this.state.UsrUsr;\r\n\t\tlet UsrPwd = this.state.UsrPwd;\r\n\r\n\t\taxios.defaults.withCredentials = true;\r\n\t\taxios.post(\"https://api.movil2.cointla.com/api/usuarios/login.php\", {\r\n\t\t\tUsrUsr: UsrUsr,\r\n\t\t\tUsrPwd: UsrPwd\r\n\t\t}).then(res => {\r\n\t\t\tlet jres = res.data;\r\n\r\n\t\t\tif(jres.status === \"OK\"){\r\n\t\t\t\twindow.location = \"#/colecciones\";\r\n\t\t\t\twindow.localStorage.setItem(\"loged\",\"OK\");\r\n\t\t\t}else{\r\n\t\t\t\tthis.setState({errorMessage: jres.payload.message});\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\trender(){\r\n\t\treturn (\r\n\t\t\t<div className=\"LoginPage\">\r\n\t\t\t\t<TopBar />\r\n\t\t\t\t<div className=\"LogoContainer\">\r\n\t\t\t\t\t<div className=\"background\">\r\n\t\t\t\t\t<div className=\"Logo\"></div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"FormContainer\">\r\n\t\t\t\t\t<div className=\"LoginForm\">\r\n\t\t\t\t\t\t<div className=\"FieldContainer\">\r\n\t\t\t\t\t\t\t<input type=\"text\" id=\"UsrUsr\" value={this.state.UsrUsr} onChange={e => this.setState({UsrUsr: e.target.value})} placeholder=\"Usuario\" autoComplete=\"new-password\"></input>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"FieldContainer\">\r\n\t\t\t\t\t\t\t<input type=\"password\" id=\"UsrPwd\" value={this.state.UsrPwd} onChange={e => this.setState({UsrPwd: e.target.value})} placeholder=\"Contraseña\" autoComplete=\"new-password\"></input>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"ErrorMessage\">{this.state.errorMessage}</div>\r\n\t\t\t\t\t\t<div className=\"FieldContainer\">\r\n\t\t\t\t\t\t\t<div onClick={this.onLoginClick} className=\"Button\">Acceder</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default LoginPage;","import React from 'react';\r\nimport TopBar from '../cmps/TopBar';\r\nimport axios from 'axios';\r\n\r\nimport '../css/ColeccionesPage.scss';\r\n\r\nclass ColeccionesPage extends React.Component{\r\n\r\n\tconstructor(){\r\n\t\tsuper();\r\n\r\n\t\tthis.state = {\r\n\t\t\tcols_divs: \"\",\r\n\t\t\tshowAddColForm: \"none\",\r\n\t\t\tColNom: \"\"\r\n\t\t}\r\n\t}\r\n\t\r\n\tcomponentDidMount(){\r\n\t\tthis.loadData();\r\n\t}\r\n\r\n\tonColClick = e =>{\r\n\t\tlet ColCod = e.target.id;\r\n\r\n\t\twindow.location = \"#/coleccion/\"+ColCod;\r\n\t}\r\n\r\n\tonAddColClick = e =>{\r\n\t\tthis.setState({\r\n\t\t\tshowAddColForm: \"block\"\r\n\t\t});\r\n\t}\r\n\r\n\tonCancelClick = e =>{\r\n\t\tthis.setState({\r\n\t\t\tshowAddColForm: \"none\"\r\n\t\t});\r\n\t}\r\n\r\n\tonAddNewClick = e =>{\r\n\t\tvar _this = this;\r\n\t\taxios.post(\"https://api.movil2.cointla.com/api/colecciones/crear.php\",{\r\n\t\t\tColNom: this.state.ColNom,\r\n\t\t\tColDesc: this.state.ColNom\r\n\t\t}).then(res=>{\r\n\t\t\t_this.loadData();\r\n\t\t\tthis.setState({showAddColForm : \"none\", ColNom: \"\"})\r\n\t\t});\r\n\t}\r\n\r\n\trender(){\r\n\t\treturn (\r\n\t\t\t<div className=\"ColeccionesPage\">\r\n\t\t\t\t<TopBar/>\r\n\t\t\t\t<div className=\"AddColForm\" style={{display: this.state.showAddColForm}}>\r\n\t\t\t\t\t<div className=\"ContainerForm\">\r\n\t\t\t\t\t\t<h3>Ingrese Nombre:</h3>\r\n\t\t\t\t\t\t<div className=\"NameColInput\">\r\n\t\t\t\t\t\t\t<input placeholder=\"Escriba el nombre de su nueva colección\" onChange={e=>this.setState({ColNom: e.target.value})} value={this.state.ColNom}></input>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"AddNewColButton\" onClick={this.onAddNewClick}>Crear</div>\r\n\t\t\t\t\t\t<div className=\"CancelColButton\" onClick={this.onCancelClick}>Cancelar</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<h2 className=\"Title\">Colecciones</h2>\r\n\t\t\t\t<div className=\"AddColButton\" onClick={this.onAddColClick}><i className=\"material-icons\">queue</i></div>\r\n\t\t\t\t{this.state.cols_divs}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\tloadData = () =>{\r\n\t\t// Realizo consulta al servidor...\r\n\t\taxios.defaults.withCredentials = true;\r\n\t\taxios.post(\"https://api.movil2.cointla.com/api/colecciones/listado.php\", {}).then(res => {\r\n\t\t\tlet jres = res.data;\r\n\r\n\t\t\tif(jres.status === \"OK\"){\r\n\t\t\t\tlet cols_divs = [];\r\n\t\t\t\t\r\n\t\t\t\t// Iteramos todas las colecciones para armar los divs\r\n\t\t\t\tfor (const key in jres.payload) {\r\n\t\t\t\t\tif (Object.hasOwnProperty.call(jres.payload, key)) {\r\n\t\t\t\t\t\tconst coleccion = jres.payload[key];\r\n\t\t\t\t\t\tcols_divs.push(\r\n\t\t\t\t\t\t\t<div className=\"CItem\" key={coleccion.ColCod} id={coleccion.ColCod} onClick={this.onColClick}>\r\n\t\t\t\t\t\t\t\t<div className=\"Desc\" key={coleccion.ColCod} id={coleccion.ColCod} onClick={this.onColClick}>{coleccion.ColDesc} </div>\r\n\t\t\t\t\t\t\t\t<div className=\"Icon\" ><i className=\"material-icons\" key={coleccion.ColCod} id={coleccion.ColCod} onClick={this.onColClick}>arrow_forward_ios</i></div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Actualizar el State del Componente para mostrar las colecciones\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tcols_divs: cols_divs\r\n\t\t\t\t});\r\n\t\t\t}else{\r\n\t\t\t\tthis.setState({errorMessage: jres.payload.message});\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\r\n}\r\n\r\nexport default ColeccionesPage;","import React from 'react';\r\nimport TopBar from '../cmps/TopBar';\r\nimport axios from 'axios';\r\nimport {useParams} from 'react-router-dom';\r\n\r\nimport '../css/ColeccionPage.scss';\r\n\r\nclass ColeccionPage extends React.Component{\r\n\r\n\tconstructor(){\r\n\t\tsuper();\r\n\r\n\t\tthis.state = {\r\n\t\t\tcol_fotos: \"\",\r\n            col_name: \"\",\r\n\t\t\tshowLoading: \"none\",\r\n\t\t}\r\n\t}\r\n\t\r\n\tcomponentDidMount(){\r\n\t\tthis.loadData(this.props.ColCod);\r\n\t}\r\n\r\n\t// onColClick = e =>{\r\n\t// \tlet ColCod = e.target.id;\r\n\r\n\t// \twindow.location = \"#/coleccion/\"+ColCod;\r\n\t// }\r\n\tonAddPhotoClick = e =>{\r\n\t\tdocument.getElementById(\"file\").click();\r\n\t}\r\n\r\n\tonPhotoSelected = e =>{\r\n\t\tvar imgFile = document.getElementById(\"file\");\r\n\t\tlet filesize = imgFile.files[0].size;\r\n\t\t\r\n\t\tif(filesize <= 19000000){\r\n\t\t\tvar formData = new FormData();\r\n\t\t\tformData.append(\"ColCod\",this.props.ColCod);\r\n\t\t\tformData.append(\"FotFile\", imgFile.files[0]);\r\n\t\t\tvar _this = this;\r\n\r\n\t\t\tthis.setState({showLoading: \"block\"});\r\n\r\n\t\t\taxios.post(\"https://api.movil2.cointla.com/api/fotos/crear.php\" , formData,{\r\n\t\t\t\theaders:{\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data'\r\n\t\t\t\t}\r\n\t\t\t}).then(res=>{\r\n\t\t\t\t_this.loadData(this.props.ColCod);\r\n\t\t\t\tthis.setState({showLoading: \"none\"});\r\n\t\t\t});\r\n\t\t}else{\r\n\t\t\talert(\"La fotografía es muy pesada (20MB Máximo)\");\r\n\t\t}\r\n\t}\r\n\r\n\trender(){\r\n\t\treturn (\r\n\t\t\t<div className=\"ColeccionPage\">\r\n\t\t\t\t<TopBar backTo=\"#/colecciones\" deleteCol={this.props.ColCod}/>\r\n\t\t\t\t<h2 className=\"Title\">{this.state.col_name}</h2>\r\n\t\t\t\t<div className=\"LoadingAxios\" style={{display: this.state.showLoading}}>\r\n\t\t\t\t\t<div className=\"lds-ellipsis\"><div></div><div></div><div></div><div></div></div>\r\n\t\t\t\t\t<div className=\"LoadingText\">Cargando...</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<input type=\"file\" onChange={this.onPhotoSelected} name=\"file\" id=\"file\" style={{display: \"none\"}}/>\r\n\t\t\t\t<div className=\"AddPhoto\" onClick={this.onAddPhotoClick}><i className=\"material-icons\">add_a_photo</i></div>\r\n\t\t\t\t<div className=\"PhotosContainer\">\r\n\t\t\t\t\t{this.state.col_fotos}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\tloadData = ColCod =>{\r\n\t\t// Realizo consulta al servidor...\r\n\t\tvar _this = this;\r\n\t\taxios.defaults.withCredentials = true;\r\n\t\taxios.post(\"https://api.movil2.cointla.com/api/colecciones/listone.php\", {\r\n            ColCod: ColCod\r\n        }).then(res => {\r\n\t\t\tlet jres = res.data;\r\n\r\n\t\t\tif(jres.status === \"OK\"){\r\n\t\t\t\tlet col_fotos = [];\r\n                let col_name = jres.payload.ColDesc;\r\n\t\t\t\t\r\n\t\t\t\t// Iteramos todas las fotos para armar los divs\r\n\t\t\t\tfor (const key in jres.payload.fotos) {\r\n\t\t\t\t\tif (Object.hasOwnProperty.call(jres.payload.fotos, key)) {\r\n\t\t\t\t\t\tconst foto = jres.payload.fotos[key];\r\n                        let foto_url = \"https://api.movil2.cointla.com/data\"+foto.FotPath;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tlet onDeletePhotoClick = e =>{\r\n\t\t\t\t\t\t\taxios.post(\"https://api.movil2.cointla.com/api/fotos/eliminar.php\",{\r\n\t\t\t\t\t\t\t\tColCod: ColCod,\r\n\t\t\t\t\t\t\t\tFotCod: foto.FotCod\r\n\t\t\t\t\t\t\t}).then(res=>{\r\n\t\t\t\t\t\t\t\t_this.loadData(_this.props.ColCod);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tcol_fotos.push(\r\n\t\t\t\t\t\t\t<div className=\"FItem\" key={foto.FotCod} id={foto.FotCod} style={{backgroundImage: \"url(\"+foto_url+\")\"}}>\r\n\t\t\t\t\t\t\t\t<div className=\"inPhotoIcon\" onClick={onDeletePhotoClick}><i className=\"material-icons\">delete_outline</i></div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Actualizar el State del Componente para mostrar la coleccion y fotos\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tcol_fotos: col_fotos,\r\n                    col_name: col_name\r\n\t\t\t\t});\r\n\t\t\t}else{\r\n\t\t\t\tthis.setState({errorMessage: jres.payload.message});\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\r\n}\r\n\r\n\r\nlet _ColeccionPage = function(){\r\n    let {ColCod} = useParams();\r\n    return (<ColeccionPage ColCod={ColCod}></ColeccionPage>)\r\n}\r\n\r\nexport default _ColeccionPage;","import React from 'react';\nimport {HashRouter as Router, Switch, Route} from 'react-router-dom';\n\nimport './css/App.scss';\nimport LoginPage from './cmps/LoginPage';\nimport ColeccionesPage from './cmps/ColeccionesPage';\nimport ColeccionPage from './cmps/ColeccionPage';\n\nclass App extends React.Component{\n\n\trender(){\n\t\treturn (\n\n\t\t\t<div className=\"App\" id=\"picme-app\">\n\t\t\t\t<Router>\n\t\t\t\t\t<Switch>\n\t\t\t\t\t\t<Route path=\"/\" exact><LoginPage /></Route>\n\t\t\t\t\t\t<Route path=\"/colecciones\" exact><ColeccionesPage /></Route>\n\t\t\t\t\t\t<Route path=\"/coleccion/:ColCod\" exact><ColeccionPage /></Route>\n\t\t\t\t\t</Switch>\n\t\t\t\t</Router>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport reportWebVitals from './reportWebVitals';\n\nimport './css/index.scss';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App/>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}